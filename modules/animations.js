export function init3dFavicon(){if("undefined"==typeof THREE){console.error("Three.js library not loaded, skipping 3D favicon.");return}let e=document.getElementById("favicon");if(!e)return;let t=new THREE.Scene,i=new THREE.PerspectiveCamera(75,1,.1,1e3),n=new THREE.WebGLRenderer({alpha:!0,antialias:!0});n.setSize(64,64);let s=new THREE.IcosahedronGeometry(.8,0),r=new THREE.PointsMaterial({color:10712319,size:.1,sizeAttenuation:!0}),a=new THREE.Points(s,r),o=new THREE.WireframeGeometry(s),$=new THREE.LineBasicMaterial({color:16777215,transparent:!0,opacity:.4}),l=new THREE.LineSegments(o,$),d=new THREE.Group;d.add(a),d.add(l),t.add(d);let h=new THREE.AmbientLight(16777215,1);t.add(h),i.position.z=1.5,!function s(){requestAnimationFrame(s),d.rotation.x+=.01,d.rotation.y+=.015,d.rotation.z+=.005,n.render(t,i),e.href=n.domElement.toDataURL()}()}export function initParticleAnimation(){let e=document.getElementById("particle-canvas");if(!e)return;let t=e.getContext("2d"),i=e.width=window.innerWidth,n=e.height=window.innerHeight,s=[],r=0,a={x:null,y:null,radius:120};window.addEventListener("mousemove",e=>{a.x=e.x,a.y=e.y});class o{constructor(e,t){this.x=e,this.y=t,this.baseX=e,this.baseY=t,this.size=1.5,this.density=20*Math.random()+5}draw(e){t.fillStyle=e,t.beginPath(),t.arc(this.x,this.y,this.size,0,2*Math.PI),t.closePath(),t.fill()}update(){let e=a.x-this.x,t=a.y-this.y,i=Math.sqrt(e*e+t*t);if(i<a.radius){let n=(a.radius-i)/a.radius;this.x-=e/i*n*this.density,this.y-=t/i*n*this.density}else this.x!==this.baseX&&(this.x-=(this.x-this.baseX)/20),this.y!==this.baseY&&(this.y-=(this.y-this.baseY)/20)}}function $(){s=[];let e=Math.floor(i/70),t=Math.floor(n/70),r=(i-70*e)/2+35,a=(n-70*t)/2;for(let $=0;$<t;$++)for(let l=0;l<e;l++)s.push(new o(70*l+r,70*$+a))}window.addEventListener("resize",()=>{i=e.width=window.innerWidth,n=e.height=window.innerHeight,$()}),$(),function e(){t.clearRect(0,0,i,n),r+=.002;let a=(Math.sin(r)+1)/2,o=.1+.3*a,$=document.body.classList.contains("dark-mode")?`rgba(179, 136, 255, ${o})`:`rgba(163, 116, 255, ${o})`,l=document.body.classList.contains("dark-mode")?"rgba(179, 136, 255, 0.03)":"rgba(163, 116, 255, 0.03)";t.strokeStyle=l,t.lineWidth=.5;for(let d=0;d<s.length;d++){s[d].update(),s[d].draw($);for(let h=d;h<s.length;h++)80>Math.sqrt(Math.pow(s[d].x-s[h].x,2)+Math.pow(s[d].y-s[h].y,2))&&(t.beginPath(),t.moveTo(s[d].x,s[d].y),t.lineTo(s[h].x,s[h].y),t.stroke())}requestAnimationFrame(e)}()}